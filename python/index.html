<html>
<head>
<title>Network Mp3 Player</title>
<script src="jq.js"></script>
<link rel="stylesheet" type="text/css" href="app.css">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2.0, user-scalable=yes", target-densitydpi=device-dpi />
</head>
<body>
<script type="text/javascript">
var URL = "index.html";
var playerAction = function(action) {
	$.ajax({
		type: "POST",
		url: URL,
		data: { action: action }
	})
		.done(function( data ) {
      if( action == "info" || action == "ip" ) {
        renderInfo(data);
      } else {
        console.log( data );
      }
	});
}

var renderInfo = function(info) {
  info = jQuery.parseJSON( info );
  var table = $("<table>");
  for( i in info ) {
    var row = $("<tr>")

    var label = $("<td>", { text:i } );
    var data = $("<td>", {text:info[i]} );

    table.append( row.append( data ) );
  }

  $("#info").empty().append( table );
}

//setTimeout( function(){ playerAction('info'); }, 1000 );

</script>
<div id="controls">
	<button class="play" onClick="playerAction('play');">Play</button>
	<button class="pause" onClick="playerAction('pause');">Pause</button>
	<button class="prev" onClick="playerAction('prev');">Prev</button>
	<button class="next" onClick="playerAction('next');">Next</button>
	<button class="shuffle" onClick="playerAction('shuffle');">Shuffle</button>
	<button class="stop" onClick="playerAction('stop');">Stop</button>
	<hr class="control">
	<button class="ip danger" onClick="playerAction('ip');">Display ifconfig</button>		
	<button class="info danger" onClick="playerAction('info');">Display Info</button>		
	<button class="reboot danger" onClick="playerAction('reboot');">Restart Server</button>
</div>
<div id="info">
</div>

</body>
</html>
